<!DOCTYPE html>
<html>
<head>
  <title>English Vocabulary Game</title>
  <style>
    body {
      font-family: Arial;
      background: linear-gradient(#e3f2fd, #ffffff);
      text-align: center;
      padding: 20px;
    }
    .card {
      background: white;
      padding: 25px;
      max-width: 450px;
      margin: auto;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    button, select, input {
      padding: 10px;
      margin-top: 10px;
      width: 90%;
      font-size: 16px;
      border-radius: 6px;
    }
    button {
      background: green;
      color: white;
      border: none;
      cursor: pointer;
    }
    .hidden { display: none; }
    .level {
      font-weight: bold;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>

<h1>English Vocabulary Game üéÆ</h1>

<div class="card">

  <div class="level" id="levelText"></div>

  <!-- LEARN -->
  <div id="learn">
    <h3>Learn Words</h3>
    <div id="wordList"></div>
    <button onclick="startTest()">Start Test</button>
  </div>

  <!-- MCQ TEST -->
  <div id="mcqTest" class="hidden">
    <h3 id="engWord"></h3>
    <button onclick="speak()">üîä Pronounce</button>
    <select id="mcq"></select>
    <button onclick="checkMCQ()">Next</button>
  </div>

  <!-- SPELLING TEST -->
  <div id="spellTest" class="hidden">
    <h3 id="bnWord"></h3>
    <input id="spellInput" placeholder="Type English word">
    <button onclick="checkSpell()">Next</button>
  </div>

  <!-- RESULT -->
  <div id="result" class="hidden">
    <h2 id="resultText"></h2>
    <button onclick="nextLevel()">Continue</button>
  </div>

</div>

<script>
let level = Number(localStorage.getItem("level")) || 1;

const allWords = [
  {e:"abandon", b:"‡¶™‡¶∞‡¶ø‡¶§‡ßç‡¶Ø‡¶æ‡¶ó ‡¶ï‡¶∞‡¶æ"},
  {e:"brave", b:"‡¶∏‡¶æ‡¶π‡¶∏‡ßÄ"},
  {e:"calm", b:"‡¶∂‡¶æ‡¶®‡ßç‡¶§"},
  {e:"honest", b:"‡¶∏‡ßé"},
  {e:"strong", b:"‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ"},
  {e:"kind", b:"‡¶¶‡¶Ø‡¶º‡¶æ‡¶≤‡ßÅ"},
  {e:"lazy", b:"‡¶Ü‡¶≤‡¶∏‡ßá"},
  {e:"fast", b:"‡¶¶‡ßç‡¶∞‡ßÅ‡¶§"},
  {e:"happy", b:"‡¶ñ‡ßÅ‡¶∂‡¶ø"},
  {e:"smart", b:"‡¶ö‡¶§‡ßÅ‡¶∞"},
  {e:"angry", b:"‡¶∞‡¶æ‡¶ó‡¶æ‡¶®‡ßç‡¶¨‡¶ø‡¶§"},
  {e:"clean", b:"‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞"},
  {e:"danger", b:"‡¶¨‡¶ø‡¶™‡¶¶"},
  {e:"easy", b:"‡¶∏‡¶π‡¶ú"},
  {e:"fresh", b:"‡¶§‡¶æ‡¶ú‡¶æ"},
  {e:"heavy", b:"‡¶≠‡¶æ‡¶∞‡ßÄ"},
  {e:"light", b:"‡¶π‡¶æ‡¶≤‡¶ï‡¶æ"},
  {e:"quick", b:"‡¶¶‡ßç‡¶∞‡ßÅ‡¶§"},
  {e:"safe", b:"‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶"},
  {e:"truth", b:"‡¶∏‡¶§‡ßç‡¶Ø"}
];

let start = (level - 1) * 10;
let words = allWords.slice(start, start + 10);

let index = 0;
let score = 0;

document.getElementById("levelText").innerText = "Level " + level;

// LEARN
const list = document.getElementById("wordList");
words.forEach(w => {
  list.innerHTML += `<p><b>${w.e}</b> - ${w.b}</p>`;
});

function startTest() {
  document.getElementById("learn").classList.add("hidden");
  document.getElementById("mcqTest").classList.remove("hidden");
  loadMCQ();
}

function loadMCQ() {
  document.getElementById("engWord").innerText = words[index].e;
  const mcq = document.getElementById("mcq");
  mcq.innerHTML = "";
  words.forEach(w => {
    mcq.innerHTML += `<option>${w.b}</option>`;
  });
}

function speak() {
  const msg = new SpeechSynthesisUtterance(words[index].e);
  speechSynthesis.speak(msg);
}

function checkMCQ() {
  if (document.getElementById("mcq").value === words[index].b) score++;
  document.getElementById("mcqTest").classList.add("hidden");
  document.getElementById("spellTest").classList.remove("hidden");
  document.getElementById("bnWord").innerText = words[index].b;
}

function checkSpell() {
  if (document.getElementById("spellInput").value.toLowerCase() === words[index].e) score++;
  document.getElementById("spellInput").value = "";
  index++;

  if (index < words.length) {
    document.getElementById("spellTest").classList.add("hidden");
    document.getElementById("mcqTest").classList.remove("hidden");
    loadMCQ();
  } else {
    showResult();
  }
}

function showResult() {
  document.getElementById("spellTest").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");

  if (score >= 8) {
    document.getElementById("resultText").innerText =
      `üéâ Passed! Score: ${score}/10`;
    localStorage.setItem("level", level + 1);
  } else {
    document.getElementById("resultText").innerText =
      `‚ùå Failed! Score: ${score}/10`;
  }
}

function nextLevel() {
  location.reload();
}
</script>

</body>
</html>
